<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NCSI ëŒ€ë¦¬ì  ì •ë°€ ì§€ë„</title>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; font-family: 'Malgun Gothic', sans-serif; }
        #map { width: 100vw; height: 100vh; background-color: #f5f5f5; }
        .label {
            background: white; border: 2px solid #3b5bdb; border-radius: 5px;
            padding: 2px 6px; font-size: 11px; font-weight: bold; color: #333;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
        }
        #loading {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255,255,255,0.9); z-index: 100;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
        }
    </style>
</head>
<body>
    <div id="loading">
        <p id="status-msg">ğŸ“¡ ì¹´ì¹´ì˜¤ ì§€ë„ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>
    </div>
    <div id="map"></div>

    <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=79f4eed14157b41600ae24614948061a&libraries=services"></script>

    <script>
        // 2. ì—”ì§„ì´ ì™„ì „íˆ ë¡œë“œëœ í›„ ì‹¤í–‰ë˜ë„ë¡ ë³´ì¥
        window.onload = function() {
            // ì¹´ì¹´ì˜¤ ê°ì²´ê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ì„ ê²½ìš° ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
            if (typeof kakao === 'undefined') {
                document.getElementById('status-msg').innerHTML = 
                    "<span style='color:red;'>âŒ ì§€ë„ ì—”ì§„ ë¡œë“œ ì‹¤íŒ¨!</span><br>ì¹´ì¹´ì˜¤ ê°œë°œì ì„¼í„°ì—ì„œ 'í”Œë«í¼ ë„ë©”ì¸' ë“±ë¡ì„ í™•ì¸í•´ì£¼ì„¸ìš”.";
                return;
            }

            kakao.maps.load(function() {
                const container = document.getElementById('map');
                const options = {
                    center: new kakao.maps.LatLng(37.5665, 126.9780),
                    level: 8
                };
                const map = new kakao.maps.Map(container, options);
                const geocoder = new kakao.maps.services.Geocoder();

                // 3. ëŒ€ë¦¬ì  ë°ì´í„° (41ê°œì†Œ)
                const stores = [
                    {num: 1, name: "ìš¸ë¦¼í„°ëŒ€ë¦¬ì  êµ°ìì—­ì ", address: "ì„œìš¸ ê´‘ì§„êµ¬ êµ°ìë™ 477-19"},
                    {num: 2, name: "ë‹¤ì›ëŒ€ë¦¬ì  ì¤‘ê³¡ì§ì˜ì ", address: "ì„œìš¸ ê´‘ì§„êµ¬ ê¸´ê³ ë‘ë¡œ 115"},
                    {num: 3, name: "ê´‘ì¥ëŒ€ë¦¬ì  ì¤‘ê³¡ì ", address: "ì„œìš¸ ê´‘ì§„êµ¬ ë©´ëª©ë¡œ 160"},
                    {num: 4, name: "ìš¸ë¦¼í„°ëŒ€ë¦¬ì  ë³¸ì ", address: "ì„œìš¸ ê´‘ì§„êµ¬ ì•„ì°¨ì‚°ë¡œ 220"},
                    {num: 5, name: "ê´‘ì¥ëŒ€ë¦¬ì  êµ¬ì˜ì ", address: "ì„œìš¸ ê´‘ì§„êµ¬ ì•„ì°¨ì‚°ë¡œ 415"},
                    {num: 6, name: "PS&M (ê°•ë³€ì—­ì )", address: "ì„œìš¸ ê´‘ì§„êµ¬ ê´‘ë‚˜ë£¨ë¡œ56ê¸¸ 85"},
                    {num: 7, name: "PS&M (ê°•ë³€ì—­ 2í˜¸ì )", address: "ì„œìš¸ ê´‘ì§„êµ¬ ê´‘ë‚˜ë£¨ë¡œ56ê¸¸ 85 ì§€í•˜ 1ì¸µ"},
                    {num: 8, name: "ê´‘ì¥ëŒ€ë¦¬ì  ê´‘ì¥ì ", address: "ì„œìš¸ ê´‘ì§„êµ¬ ê´‘ë‚˜ë£¨ë¡œ 590"},
                    {num: 9, name: "ë‹¤ì›ëŒ€ë¦¬ì  êµ¬ì˜ë³¸ì ", address: "ì„œìš¸ ê´‘ì§„êµ¬ ìì–‘ë¡œ 116"},
                    {num: 10, name: "ê´‘ì¥ëŒ€ë¦¬ì  ìì–‘ì ", address: "ì„œìš¸ ê´‘ì§„êµ¬ ìì–‘ë¡œ 50"},
                    {num: 11, name: "PS&M (ê±´ëŒ€ì…êµ¬ì—­ì )", address: "ì„œìš¸ ê´‘ì§„êµ¬ ì•„ì°¨ì‚°ë¡œ 229"},
                    {num: 12, name: "ë™ì§„ëŒ€ë¦¬ì  í™”ì–‘ì ", address: "ì„œìš¸ ê´‘ì§„êµ¬ ì•„ì°¨ì‚°ë¡œ 201"},
                    {num: 13, name: "ì„±ì§„ëŒ€ë¦¬ì  ê±´ëŒ€ì ", address: "ì„œìš¸ ê´‘ì§„êµ¬ ë™ì¼ë¡œ20ê¸¸ 113"},
                    {num: 14, name: "ë‹¤ì›ëŒ€ë¦¬ì  ê±´ëŒ€ì ", address: "ì„œìš¸ ê´‘ì§„êµ¬ ëŠ¥ë™ë¡œ 135-1"},
                    {num: 15, name: "PS&M (êµ°ìì—­ì )", address: "ì„œìš¸ ê´‘ì§„êµ¬ ì²œí˜¸ëŒ€ë¡œ 549"},
                    {num: 16, name: "ë™ì§„ëŒ€ë¦¬ì  ì¤‘ê³¡ì—­ì ", address: "ì„œìš¸ ê´‘ì§„êµ¬ ëŠ¥ë™ë¡œ 394"},
                    {num: 17, name: "ì°¸ìŠ¤íƒ€ëŒ€ë¦¬ì  ì¤‘ê³¡ë³¸ì ", address: "ì„œìš¸ ê´‘ì§„êµ¬ ëŠ¥ë™ë¡œ 346"},
                    {num: 18, name: "ë‹¤ì›ëŒ€ë¦¬ì  ì¤‘ê³¡ë³¸ì ", address: "ì„œìš¸ ê´‘ì§„êµ¬ ë©´ëª©ë¡œ 151"},
                    {num: 19, name: "ìš¸ë¦¼í„°ëŒ€ë¦¬ì  ëŠ¥ë™ì ", address: "ì„œìš¸ ê´‘ì§„êµ¬ ì²œí˜¸ëŒ€ë¡œ 522"},
                    {num: 20, name: "PS&M (ì–´ë¦°ì´ëŒ€ê³µì›ì—­ì )", address: "ì„œìš¸ ê´‘ì§„êµ¬ ëŠ¥ë™ë¡œ 189"},
                    {num: 21, name: "ê´‘ì¥ëŒ€ë¦¬ì  ì„±ìˆ˜ì ", address: "ì„œìš¸ ì„±ë™êµ¬ ì•„ì°¨ì‚°ë¡œ 110"},
                    {num: 22, name: "PS&M (ì„±ìˆ˜ì )", address: "ì„œìš¸ ì„±ë™êµ¬ ì•„ì°¨ì‚°ë¡œ 103"},
                    {num: 23, name: "ë™ì§„ëŒ€ë¦¬ì  ëšì„¬ì—­ì ", address: "ì„œìš¸ ì„±ë™êµ¬ ìƒì›ê¸¸ 15"},
                    {num: 24, name: "ë‹¤ì›ëŒ€ë¦¬ì  ì„±ìˆ˜ë³¸ì ", address: "ì„œìš¸ ì„±ë™êµ¬ ì•„ì°¨ì‚°ë¡œ 51-1"},
                    {num: 25, name: "PS&M (í•œì–‘ëŒ€ì )", address: "ì„œìš¸ ì„±ë™êµ¬ ì‚¬ê·¼ë™ê¸¸ 2"},
                    {num: 26, name: "ë™ì§„ëŒ€ë¦¬ì  ì™•ì‹­ë¦¬ì—­ì ", address: "ì„œìš¸ ì„±ë™êµ¬ ì™•ì‹­ë¦¬ë¡œ 321"},
                    {num: 27, name: "ë‹¤ì›ëŒ€ë¦¬ì  ì™•ì‹­ë¦¬ì ", address: "ì„œìš¸ ì„±ë™êµ¬ ì™•ì‹­ë¦¬ë¡œ 323"},
                    {num: 28, name: "ë™ì§„ëŒ€ë¦¬ì  ìƒì™•ì‹­ë¦¬ì—­ì ", address: "ì„œìš¸ ì„±ë™êµ¬ ì™•ì‹­ë¦¬ë¡œ 368"},
                    {num: 29, name: "PS&M (í™”ê³¡ì—­ì )", address: "ì„œìš¸ ê°•ì„œêµ¬ í™”ê³¡ë¡œ 161"},
                    {num: 30, name: "ë™ì§„ëŒ€ë¦¬ì  í™”ê³¡ì—­ë³¸ì ", address: "ì„œìš¸ ê°•ì„œêµ¬ í™”ê³¡ë¡œ 162"},
                    {num: 31, name: "ë™ì§„ëŒ€ë¦¬ì  ê°€ì–‘ì—­ ë³¸ì ", address: "ì„œìš¸ ê°•ì„œêµ¬ í™”ê³¡ë¡œ68ê¸¸ 3"},
                    {num: 32, name: "PS&M (ë“±ì´Œì—­ì )", address: "ì„œìš¸ ì–‘ì²œêµ¬ ê³µí•­ëŒ€ë¡œ 564"},
                    {num: 33, name: "ê°•ì„œëŒ€ë¦¬ì  ì‹ ì›”ë³¸ì ", address: "ì„œìš¸ ì–‘ì²œêµ¬ ë‚¨ë¶€ìˆœí™˜ë¡œ 354"},
                    {num: 34, name: "ì°¸ìŠ¤íƒ€ëŒ€ë¦¬ì  ì‹ ì›”ì ", address: "ì„œìš¸ ì–‘ì²œêµ¬ ë‚¨ë¶€ìˆœí™˜ë¡œ 585"},
                    {num: 35, name: "ë™ì§„ëŒ€ë¦¬ì  ì‹ ì›”ì ", address: "ì„œìš¸ ì–‘ì²œêµ¬ ë‚¨ë¶€ìˆœí™˜ë¡œ 571"},
                    {num: 36, name: "PS&M (ì‹ ì •ë„¤ê±°ë¦¬ì—­ì )", address: "ì„œìš¸ ì–‘ì²œêµ¬ ì¤‘ì•™ë¡œ 250"},
                    {num: 37, name: "ê°•ì„œëŒ€ë¦¬ì  ì‹ ì •ì ", address: "ì„œìš¸ ì–‘ì²œêµ¬ ì‹ ì •ë¡œ 312"},
                    {num: 38, name: "ì°¸ìŠ¤íƒ€ëŒ€ë¦¬ì  ì‹ ì •ë³¸ì ", address: "ì„œìš¸ ì–‘ì²œêµ¬ ì¤‘ì•™ë¡œ 225"},
                    {num: 39, name: "ë™ì§„ëŒ€ë¦¬ì  ëª©ë™ì—­ì ", address: "ì„œìš¸ ì–‘ì²œêµ¬ ì˜¤ëª©ë¡œ 230"},
                    {num: 40, name: "PS&M (ëª©ë™ì—­ì )", address: "ì„œìš¸ ì–‘ì²œêµ¬ ì˜¤ëª©ë¡œ 231"},
                    {num: 41, name: "PS&M (ì˜¤ëª©êµì—­ì )", address: "ì„œìš¸ ì–‘ì²œêµ¬ ì˜¤ëª©ë¡œ 331"}
                ];

                let processed = 0;

                // 4. ì£¼ì†Œ ë³€í™˜ í›„ ë§ˆì»¤ ë° ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ í‘œì‹œ
                stores.forEach((store) => {
                    geocoder.addressSearch(store.address, function(result, status) {
                        if (status === kakao.maps.services.Status.OK) {
                            const coords = new kakao.maps.LatLng(result[0].y, result[0].x);

                            // ë§ˆì»¤
                            new kakao.maps.Marker({
                                map: map,
                                position: coords
                            });

                            // ì´ë¦„í‘œ (ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´)
                            new kakao.maps.CustomOverlay({
                                map: map,
                                position: coords,
                                content: `<div class="label">${store.num}. ${store.name}</div>`,
                                yAnchor: 2.5
                            });
                        }
                        
                        processed++;
                        // ëª¨ë“  ì£¼ì†Œ ë³€í™˜ ì²˜ë¦¬ê°€ ì™„ë£Œë˜ë©´ ë¡œë”© í™”ë©´ ìˆ¨ê¹€
                        if (processed === stores.length) {
                            document.getElementById('loading').style.display = 'none';
                        }
                    });
                });
            });
        };
    </script>
</body>
</html>
