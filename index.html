<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NCSI 대리점 정밀 지도</title>

<script type="text/javascript"
src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=여기에_본인키&submodules=geocoder">
</script>

<style>
    body, html {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden;
    }

    #map {
        width: 100vw;
        height: 100vh;
    }

    /* 라벨 스타일 */
    .store-label {
        background: #ffffff;
        border: 2px solid #007bff;
        border-radius: 6px;
        padding: 4px 8px;
        font-size: 12px;
        font-weight: 600;
        color: #222;
        box-shadow: 2px 2px 6px rgba(0,0,0,0.2);
        white-space: nowrap;
    }

    .store-number {
        color: #007bff;
        margin-right: 4px;
    }
</style>
</head>

<body>
<div id="map"></div>

<script>
naver.maps.onJSContentLoaded = function() {

    const map = new naver.maps.Map("map", {
        center: new naver.maps.LatLng(37.5665, 126.9780),
        zoom: 11
    });

    const stores = [
        {num: 1, name: "울림터대리점 군자역점", address: "서울특별시 광진구 능동로 297"},
        {num: 2, name: "다원대리점 중곡직영점", address: "서울 광진구 긴고랑로 115"},
        {num: 3, name: "광장대리점 중곡점", address: "서울 광진구 면목로 160"},
        {num: 4, name: "울림터대리점 본점", address: "서울 광진구 아차산로 220"},
        {num: 5, name: "광장대리점 구의점", address: "서울 광진구 아차산로 415"},
        // ... 이하 동일하게 41번까지 추가
    ];

    stores.forEach((store) => {

        naver.maps.Service.geocode(
            { query: store.address },
            function(status, response) {

                if (status !== naver.maps.Service.Status.OK) {
                    console.error("주소 변환 실패:", store.name);
                    return;
                }

                const result = response.v2.addresses[0];
                const position = new naver.maps.LatLng(result.y, result.x);

                // 기본 마커
                new naver.maps.Marker({
                    position: position,
                    map: map
                });

                // 번호 + 이름 라벨 표시
                new naver.maps.CustomOverlay({
                    position: position,
                    map: map,
                    yAnchor: 2,
                    content: `
                        <div class="store-label">
                            <span class="store-number">${store.num}.</span>
                            ${store.name}
                        </div>
                    `
                });
            }
        );
    });
};
</script>

</body>
</html>
